{%load static%}

<!DOCTYPE HTML>
<html>

<head>
	<title>Contact Us</title>
	<link href="{%static 'css/contact.css'%}" rel="stylesheet" type="text/css" media="all" />
	<meta name="keywords"
		content="Mobilestore iphone web template, Android web template, Smartphone web template, free webdesigns for Nokia, Samsung, LG, Sony Ericsson, Motorola web design" />

		<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>

		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
		<!-- CSS -->
		<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/alertify.min.css"/>
		<!-- Default theme -->
		<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/themes/default.min.css"/>
	
</head>

<body>
	{%include 'header.html'%}
	<!----End-top-nav---->
	<!----End-Header---->
	{% if messages %}

    {% for message in messages %}
    <p{% if message.tags %} class="{{ message.tags }} alert alert-success"{% endif %}>{{ message }}</p>
    {% endfor %}
{% endif %}
	<div class="clear"> </div>

		<div class="container " style="float:left;">
		
		<h4 style="text-align:left;padding-top:10px;">We'd love to hear from you!</h4>
		
		<div class="row input-container ">
		<form action="contact" method="post">
			{%csrf_token%}
				<div class="col-xs-12">
					<div class="styled-input wide shadow">
						<input  name ="c_name" type="text" id="c_name" required class="input-field"/>
						<label>Name</label> 
					</div>
				</div>
				<div class="col-md-12 col-sm-12">
					<div class="styled-input shadow">
						<input type="text" name="email" id="email" required class="input-field"/>
						<label>Email</label> 
					</div>
				</div>
				<div class="col-md-12 col-sm-12" >
					<div class="styled-input shadow" style="float:right;">
						<input type="text" name="c_mobileno" id="c_mobileno" required class="input-field " maxlength="10"/>
						<label>Phone Number</label> 
					</div>
				</div>
				<div class="col-xs-12">
					<div class="styled-input wide shadow">
						<textarea name="subject" required  id="subject" class="textarea" maxlength="250"></textarea>
						<label>Subject</label>
					</div>
				</div>
				<div style="clear:both"></div>
				<div id="error" style="color:red;">
				</div>
				<div class="col-xs-12">
					<input type="submit" class="btn-lrg submit-btn" value="Send Message">
				</div>
			</form>
			</div>
	</div>
	<div class="map ">
		<h2 class="m-2">Find Us Here</h2>
		<iframe width="50%" height="300" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.com/maps?width=100%25&amp;height=600&amp;hl=en&amp;q=2B,%20Neptune%20Tower,%20BPC%20Rd,%20near%20Productivity%20House,%20Alkapuri,%20Vadodara,%20Gujarat%20390007+(enlighten%20infosystem)&amp;t=&amp;z=14&amp;ie=UTF8&amp;iwloc=B&amp;output=embed"><a href="https://www.gps.ie/golf-gps/"></a></iframe>
		<div class="company_address">
			<h2>Company Information :</h2>
			<p>2B, Neptune Tower,</p>
			<p>BPC Rd, near Productivity House, </p>
			<p>Alkapuri, Vadodara, </p>
			<p>Gujarat,India</p>
			<p>Phone:(00) 222 666 444</p>
			<p>Fax: (000) 000 00 00 0</p>
			<p>Email: <span><a href="mailto:info@mycompany.com">info@mycompany.com</a></span></p>
			<p>Follow on: <span><a href="#">Facebook</a></span>, <span><a href="#">Twitter</a></span>,
				<span><a href="#">Instagram</a></span>,<span><a href="#">linkedin</a></span></p>
		</div>

	</div> 
{% comment %} </div> {% endcomment %}

	<div class="clear"> </div>
	
	{%include 'footer.html'%}
	<script src="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/alertify.min.js"></script>
	{% comment %} <script>
		alertify.set('notifier','position','top-right');
        {%if messages%}
        {%for message in messages%}
        alertify.success('Thank You for contacting Us. We have received Your concern and we will try to provide you best service ASAP!!');
        {%endfor%}
    {%endif%}

	</script> {% endcomment %}
	<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
	    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

	<script>
		const csrftoken = document.querySelector('[name=csrfmiddlewaretoken]').value;
		
		jQuery(document).on('click', '.submit-btn', function (e) { 
			e.preventDefault();
			
			 var c_name = $('#c_name').val();
			 var email = $('#email').val();
			 var c_mobileno = $('#c_mobileno').val();
			 var subject = $('#subject').val();
	
			 function isEmail(email) {
			   var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
			   return regex.test(email);
			 }
			
			 if (c_name =="" | email =="" | c_mobileno=="" | subject =="" )
			 {
				$("#error").html("<li>All the fields are mandatory</li>")
				 
			 }
		
			  else if(isEmail(email)==false){
				$("#error").html("<li>Your email is not valid</li>");
			   
			 }
			 
			 else if($.isNumeric(c_mobileno)==false){
				$("#error").html("<li>Mobile number must be digits</li>");
			   
			   
			 }
			 else if($.isNumeric(c_mobileno)==false){
				$("#error").html("<li>Mobile number must be digits</li>");
			   
			   
			 }
		 
		  else{
			   $.ajax({
			   method:"POST",
			   headers: {'X-CSRFToken': csrftoken},
			   url: "http://127.0.0.1:8000/contact",
			   data: {"c_name":c_name,     
					   "email":email,
					   "c_mobileno":c_mobileno,
					   "subject":subject,
					   },
						success:function(){
						swal("Congratulations!!", "Thank You for contacting Us. We have received Your concern and we will try to provide you best service ASAP!!","success").then(()=>{
						  window.location.href='http://127.0.0.1:8000/contact'
						});
					  }
			  
		 });
		 
		} 
		
		});
		 
	</script>
</body>

</html>