{%load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="{%static 'css/newheader.css'%}">
    <link rel="stylesheet" href="{%static 'css/all.min.css'%}">

</head>
<body>
        
    <nav class="navigation" id="navigation" >
        <div class="nav-container">
          <div class="brand">
            <div class="brand-img">
            <img class="site-logo" id="logo" src="{%static 'images/logo.png'%}" style="margin-top:-10px;margin-left:-130px;">
            </div>
            <div class="search ">
                <form method="get" action="../search">
                    <input type="text" placeholder="Search for anything.." id="search" name="search">
                    <button class="search-button btn btn-success">Search</button>
                </form>
            </div>
         
          </div>
    
          <nav >
            <div class="nav-mobile"><a id="navbar-toggle" href="#!"><span></span></a></div>
            <ul class="nav-list ">
                {% comment %} <div class="greet"> {% endcomment %}
                <li>
                  {%if request.session.name%}
                    <a href="../profile" class="text-capitalize">Hello, {{request.session.name}}</a>
                    {%else%}

                    <a href="../login">Hello, Guest</a>
                    {%endif%}
                  {% comment %} </div> {% endcomment %}
                </li>
                  <li>
                {% comment %} <a href="#!">Home</a> {% endcomment %}
                <a href="../index" class="{%if request.resolver_match.url_name == 'index'%}text-warning{%endif%}">Home</a>
              </li>
              <li>
                <a href="../about" id="about" class="{%if request.resolver_match.url_name == 'about'%}active{%endif%}">About</a>
              </li>
              
              <li>
                <a href="../contact" class="{%if request.resolver_match.url_name == 'contact'%}text-warning{%endif%}">Contact</a>
              </li>
              <li>
                <a href="#!"><i class="fa-solid fa-user"></i></a>
                <ul class="navbar-dropdown">
                    {% if request.session.name%}
                  <li>
                    {% comment %} {%for i in profile%} {% endcomment %}
                    <a href="../profile" >My Profile</a>
                    {% comment %} {%endfor%} {% endcomment %}
                  </li>
                  <li>
                    <a href="../viewcart">My cart</a>
                  </li>
                  <li>
                    <a href="../myorders">My Orders</a>
                  </li>
                  <li>
                    <a href="logout">Logout</a>
                  </li>
                {%else%}
                <li>
                    <a href="../register">Sign Up</a>
                  </li>
                  <li>
                    <a href="../login">Sign in</a>
                  </li>
                  {%endif%}
                </ul>
              </li>
              <li>
  
                {%if request.session.name%}
                <a href="../viewcart" class="cart-icon {%if request.resolver_match.url_name == 'viewcart'%}active-cart{%endif%}" style="color:pink"><i class="fa-solid fa-cart-arrow-down"></i>
                <span class="btn btn-primary cart-qty " style="padding:0 5px;"> {{item}}</span></a>
                {%else%}
                <a href="../viewcart" class="cart-icon {%if request.resolver_match.url_name == 'viewcart'%}active-cart{%endif%}" style="color:pink;"><i class="fa-solid fa-cart-arrow-down"></i></a>
                {%endif%}
              </li>
            </ul>
          </nav>
        </div>
      </nav>
      <!-- As a link -->
  

<div class="clear"> </div>

<!-- As a heading -->
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
      <script src="https://code.jquery.com/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
      <script
      src="https://code.jquery.com/jquery-3.6.0.min.js"
      integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
      crossorigin="anonymous"></script>
    
      <script>
        (function($) { 
            $(function() { 
          
              //  open and close nav 
              $('#navbar-toggle').click(function() {
                $('nav ul').slideToggle();
              });
          
          
              // Hamburger toggle
              $('#navbar-toggle').on('click', function() {
                this.classList.toggle('active');
              });
          
          
              // If a link has a dropdown, add sub menu toggle.
              $('nav ul li a:not(:only-child)').click(function(e) {
                $(this).siblings('.navbar-dropdown').slideToggle("slow");
          
                // Close dropdown when select another dropdown
                $('.navbar-dropdown').not($(this).siblings()).hide("slow");
                e.stopPropagation();
              });
          
          
              // Click outside the dropdown will remove the dropdown class
              $('html').click(function() {
                $('.navbar-dropdown').hide("slow");
              });
            }); 
          })(jQuery); 


          var prevScrollpos = window.pageYOffset;
          window.onscroll = function () {
            var currentScrollPos = window.pageYOffset;
            if (prevScrollpos > currentScrollPos) {
              document.getElementById("navigation").style.top = "0"
            } else {
              document.getElementById("navigation").style.top = "-58px";
            }
            prevScrollpos = currentScrollPos;
          }
          
        </script>
       
</body>
</html>